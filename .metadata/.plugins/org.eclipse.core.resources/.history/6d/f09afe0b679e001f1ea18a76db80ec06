package co.edu.uco.deviuco.usuarios.application.usecase.afiliado.impl;

import co.edu.uco.deviuco.usuarios.domain.afiliado.AfiliadoDomain;
import co.edu.uco.deviuco.usuarios.domain.afiliado.exceptions.AfiliadoIdDoesExistsException;
import co.edu.uco.deviuco.usuarios.domain.afiliado.rules.AfiliadoIdDoesNotExistsRule;

public class RegisterNewAfiliadoIdRulesValidatorImpl implements RegisterNewAfiliadoIdRulesValidator {

	private AfiliadoIdDoesNotExistsRule afiliadoIdDoesNotExistRule;

	public RegisterNewAfiliadoIdRulesValidatorImpl(final afiliadoIdDoesNotExistsRule afiliadoIdDoesNotExistRule) {
		super();
		this.afiliadoIdDoesNotExistRule = afiliadoIdDoesNotExistRule;
	}


	@Override
	public void validate(AfiliadoDomain data) {
		data.generateId();
		try {
			afiliadoIdDoesNotExistRule.validate(data.getId());
		} catch (final AfiliadoIdDoesExistsException exception) {
			validate(data);
		}
	}
	
}